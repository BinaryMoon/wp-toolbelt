"use strict";var registerBlockType=wp.blocks.registerBlockType,createElement=wp.element.createElement,InspectorControls=wp.blockEditor.InspectorControls,_wp$components=wp.components,RangeControl=_wp$components.RangeControl,SelectControl=_wp$components.SelectControl,PanelBody=_wp$components.PanelBody,CheckboxControl=_wp$components.CheckboxControl,__=wp.i18n.__;registerBlockType("toolbelt/portfolio",{title:__("Portfolio","wp-toolbelt"),icon:"portfolio",description:__("Display a grid of Toolbelt Projects.","wp-toolbelt"),category:"common",keywords:[__("projects","wp-toolbelt"),__("toolbelt","wp-toolbelt")],supports:{align:["full","wide"]},attributes:{rows:{default:2},columns:{default:2},orderby:{default:"date"},categories:{default:""}},edit:function(e){var t,o=e.attributes,l=e.setAttributes,n=[];function r(o){return-1<n.findIndex(function(e){return parseInt(e)===o.id})}return 0<o.categories.length&&(n=o.categories.split(",")),console.log("cat",n),[createElement(ServerSideRender,{block:"toolbelt/portfolio",attributes:o}),createElement(InspectorControls,null,createElement(PanelBody,{title:__("Layout","wp-toolbelt"),initialOpen:!0},createElement(RangeControl,{value:o.rows,label:__("Rows","wp-toolbelt"),onChange:function(e){l({rows:e})},min:1,max:10}),createElement(RangeControl,{value:o.columns,label:__("Columns","wp-toolbelt"),onChange:function(e){l({columns:e})},min:1,max:4}),createElement(SelectControl,{value:o.orderby,label:__("Order by","wp-toolbelt"),onChange:function(e){l({orderby:e})},options:[{value:"date",label:__("date","wp-toolbelt")},{value:"rand",label:__("random","wp-toolbelt")}]})),createElement(PanelBody,{title:__("Project Types","wp-toolbelt"),initialOpen:!0},(t=[],toolbelt_portfolio_categories&&Object.keys(toolbelt_portfolio_categories).forEach(function(e){var o=toolbelt_portfolio_categories[e];t.push(createElement(CheckboxControl,{label:o.name,onChange:function(e){e?function(e){r(e)||n.push(e.id),l({categories:n.join(",")})}(o):function(o){n=n.filter(function(e){return parseInt(e)!==o.id}),l({categories:n.join(",")})}(o)},vale:o,checked:r(o)}))}),t)))]},save:function(){return null}});