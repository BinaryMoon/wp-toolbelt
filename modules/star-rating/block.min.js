"use strict";!function(){function i(t){var n=(n=t)&&n.color?n.color:"currentColor",t=(t=t)&&t.className?t.className:"";return c(o,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",color:n},c(l,{className:t,fill:n,stroke:n,d:"M12,17.3l6.2,3.7l-1.6-7L22,9.2l-7.2-0.6L12,2L9.2,8.6L2,9.2L7.5,14l-1.6,7L12,17.3z"}))}function s(t){var n,e,l=t.id,o=t.setRating,t=t.children;return c("span",{className:"toolbelt-ratings-button","data-position":l,tabIndex:0,role:"button",onClick:function(){return o(e)},onKeyDown:(n=e=l,function(t){return t.keyCode===a?o(n):null})},t)}var t=wp.blocks.registerBlockType,c=wp.element.createElement,n=wp.blockEditor,u=n.AlignmentToolbar,g=n.BlockControls,p=n.InspectorControls,b=n.PanelColorSettings,e=wp.components,m=e.RangeControl,d=e.PanelBody,l=e.Path,o=e.SVG,a=wp.keycodes.ENTER,n=wp.i18n,f=n.__,e=n._x,r=n.sprintf,w=function(t,n){for(var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,l=-1,o=Math.max(Math.ceil((n-t)/e),0),a=Array(o);o--;)a[++l]=t,t+=e;return a};t("toolbelt/star-rating",{title:f("TB Star Rating","wp-toolbelt"),icon:i,description:f("Add star ratings.","wp-toolbelt"),category:"wp-toolbelt",keywords:[e("star stars rating rate","block search term","wp-toolbelt"),e("toolbelt","block search term","wp-toolbelt")],attributes:{rating:{type:"number",default:1},maxRating:{type:"number",default:5},color:{type:"string"},align:{type:"string",default:"left"}},edit:function(t){function n(t){t===r&&Math.ceil(r)===r&&(t-=.5),l({rating:t})}var e=t.className,l=t.setAttributes,o=t.attributes,t=o.align,a=o.color,r=o.rating,o=o.maxRating;return[c(g,null,c(u,{value:t,onChange:function(t){return l({align:t})}})),c("div",{className:e,style:{textAlign:t}},w(1,o+1).map(function(t){return c(s,{key:t,id:t,setRating:n},c("span",null,c(i,{color:a,className:t-.5<=r?null:"is-rating-unfilled"})),c("span",null,c(i,{color:a,className:t<=r?null:"is-rating-unfilled"})))})),c(p,null,c(d,{title:f("Settings","wp-toolbelt")},c(m,{label:f("Highest rating","wp-toolbelt"),value:o,onChange:function(t){l({rating:Math.min(r,t),maxRating:t})},min:2,max:10})),c(b,{title:f("Color Settings","wp-toolbelt"),initialOpen:!0,colorSettings:[{value:a,onChange:function(t){return l({color:t})},label:f("Color","wp-toolbelt")}]}))]},save:function(t){var n=t.className,e=t.attributes,l=e.align,o=e.rating,t=e.maxRating,t=(e.color,r(f("Rating %d out of %d","wp-toolbelt"),o,t));return c("figure",{className:n,style:{textAlign:l}},w(1,o+1).map(function(t){return c("span",{key:t},"⭐")}),c("span",{class:"screen-reader-text"},t))}})}();