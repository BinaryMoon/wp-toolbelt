"use strict";!function(){function c(t){var n=function(t){return t&&t.color?t.color:"currentColor"}(t),e=function(t){return t&&t.className?t.className:""}(t);return g(o,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",color:n},g(l,{className:e,fill:n,stroke:n,d:"M12,17.3l6.2,3.7l-1.6-7L22,9.2l-7.2-0.6L12,2L9.2,8.6L2,9.2L7.5,14l-1.6,7L12,17.3z"}))}function u(t){var n,e,l=t.id,o=t.setRating,a=t.children;return g("span",{className:"toolbelt-ratings-button","data-position":l,tabIndex:0,role:"button",onClick:(e=l,function(){return o(e)}),onKeyDown:(n=l,function(t){return t.keyCode===r?o(n):null})},a)}var t=wp.blocks.registerBlockType,g=wp.element.createElement,n=wp.blockEditor,p=n.AlignmentToolbar,b=n.BlockControls,m=n.InspectorControls,f=n.PanelColorSettings,e=wp.components,d=e.RangeControl,w=e.PanelBody,l=e.Path,o=e.SVG,r=wp.keycodes.ENTER,a=wp.i18n,h=a.__,i=a._x,s=a.sprintf,y=function(t,n,e){for(var l=2<arguments.length&&void 0!==e?e:1,o=-1,a=Math.max(Math.ceil((n-t)/l),0),r=Array(a);a--;)r[++o]=t,t+=l;return r};t("toolbelt/star-rating",{title:h("TB Star Rating","wp-toolbelt"),icon:c,description:h("Add star ratings.","wp-toolbelt"),category:"wp-toolbelt",keywords:[i("star stars rating rate","block search term","wp-toolbelt"),i("toolbelt","block search term","wp-toolbelt")],attributes:{rating:{type:"number",default:1},maxRating:{type:"number",default:5},color:{type:"string"},align:{type:"string",default:"left"}},edit:function(t){function n(t){t===i&&Math.ceil(i)===i&&(t-=.5),l({rating:t})}var e=t.className,l=t.setAttributes,o=t.attributes,a=o.align,r=o.color,i=o.rating,s=o.maxRating;return[g(b,null,g(p,{value:a,onChange:function(t){return l({align:t})}})),g("div",{className:e,style:{textAlign:a}},y(1,s+1).map(function(t){return g(u,{key:t,id:t,setRating:n},g("span",null,g(c,{color:r,className:t-.5<=i?null:"is-rating-unfilled"})),g("span",null,g(c,{color:r,className:t<=i?null:"is-rating-unfilled"})))})),g(m,null,g(w,{title:h("Settings","wp-toolbelt")},g(d,{label:h("Highest rating","wp-toolbelt"),value:s,onChange:function(t){l({rating:Math.min(i,t),maxRating:t})},min:2,max:10})),g(f,{title:h("Color Settings","wp-toolbelt"),initialOpen:!0,colorSettings:[{value:r,onChange:function(t){return l({color:t})},label:h("Color","wp-toolbelt")}]}))]},save:function(t){var n=t.className,e=t.attributes,l=e.align,o=e.rating,a=e.maxRating,r=(e.color,s(h("Rating %d out of %d","wp-toolbelt"),o,a));return g("figure",{className:n,style:{textAlign:l}},y(1,o+1).map(function(t){return g("span",{key:t},"⭐")}),g("span",{class:"screen-reader-text"},r))}})}();