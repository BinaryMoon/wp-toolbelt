"use strict";!function(){function i(t){var n=(n=t)&&n.color?n.color:"currentColor",t=(t=t)&&t.className?t.className:"";return u(o,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",color:n},u(l,{className:t,fill:n,stroke:n,d:"M12,17.3l6.2,3.7l-1.6-7L22,9.2l-7.2-0.6L12,2L9.2,8.6L2,9.2L7.5,14l-1.6,7L12,17.3z"}))}function s(t){var n,e,l=t.id,o=t.setRating,t=t.children;return u("span",{className:"toolbelt-ratings-button","data-position":l,tabIndex:0,role:"button",onClick:function(){return o(e)},onKeyDown:(n=e=l,function(t){return t.keyCode===a?o(n):null})},t)}function c(t,n){for(var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,l=-1,o=Math.max(Math.ceil((n-t)/e),0),a=Array(o);o--;)a[++l]=t,t+=e;return a}var t=wp.blocks.registerBlockType,u=wp.element.createElement,n=wp.blockEditor,g=n.AlignmentToolbar,p=n.BlockControls,b=n.InspectorControls,m=n.PanelColorSettings,e=wp.components,d=e.RangeControl,f=e.PanelBody,l=e.Path,o=e.SVG,a=wp.keycodes.ENTER,n=wp.i18n,w=n.__,e=n._x,r=n.sprintf;t("toolbelt/star-rating",{title:w("TB Star Rating","wp-toolbelt"),icon:i,description:w("Add star ratings.","wp-toolbelt"),category:"wp-toolbelt",keywords:[e("star stars rating rate","block search term","wp-toolbelt"),e("toolbelt","block search term","wp-toolbelt")],attributes:{rating:{type:"number",default:1},maxRating:{type:"number",default:5},color:{type:"string"},align:{type:"string",default:"left"}},edit:function(t){function n(t){t===r&&Math.ceil(r)===r&&(t-=.5),l({rating:t})}var e=t.className,l=t.setAttributes,o=t.attributes,t=o.align,a=o.color,r=o.rating,o=o.maxRating;return[u(p,null,u(g,{value:t,onChange:function(t){return l({align:t})}})),u("div",{className:e,style:{textAlign:t}},c(1,o+1).map(function(t){return u(s,{key:t,id:t,setRating:n},u("span",null,u(i,{color:a,className:t-.5<=r?null:"is-rating-unfilled"})),u("span",null,u(i,{color:a,className:t<=r?null:"is-rating-unfilled"})))})),u(b,null,u(f,{title:w("Settings","wp-toolbelt")},u(d,{label:w("Highest rating","wp-toolbelt"),value:o,onChange:function(t){l({rating:Math.min(r,t),maxRating:t})},min:2,max:10})),u(m,{title:w("Color Settings","wp-toolbelt"),initialOpen:!0,colorSettings:[{value:a,onChange:function(t){return l({color:t})},label:w("Color","wp-toolbelt")}]}))]},save:function(t){var n=t.className,e=t.attributes,l=e.align,o=e.rating,t=e.maxRating,t=(e.color,r(w("Rating %d out of %d","wp-toolbelt"),o,t));return u("figure",{className:n,style:{textAlign:l}},c(1,o+1).map(function(t){return u("span",{key:t},"⭐")}),u("span",{class:"screen-reader-text"},t))}})}();