"use strict";var toolbelt_is=function(){function e(){var l=new XMLHttpRequest,e=toolbelt_is.route+toolbelt_is.page;l.open("GET",e,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),l.onreadystatechange=function(){if(4===l.readyState){var e=JSON.parse(l.response),t=document.querySelectorAll(".toolbelt-infinite-scroll-wrapper")[0];t&&e.html&&t.insertAdjacentHTML("beforebegin",e.html),e.html&&!e.last||document.body.classList.add("toolbelt-infinite-scroll-end"),document.querySelector(".toolbelt-infinite-scroll-wrapper button").style.display="inline",document.querySelector(".toolbelt-infinite-scroll-wrapper .toolbelt-spinner").style.display="none";var o=document.querySelector(".toolbelt-divider:last-of-type + article");o&&(o.tabIndex=-1,o.focus()),function(){if(window.history.pushState){var e=toolbelt_is.permalink.replace("%d",toolbelt_is.page);window.location.href!==e&&(history.pushState(null,null,e),document.body.dispatchEvent(new Event("toolbelt-is-load")))}}(),document.body.dispatchEvent(new Event("load-post"))}},l.send()}return{init:function(){var e=document.querySelector(".toolbelt-infinite-scroll-wrapper button");e&&e.addEventListener("click",toolbelt_is.request,!1)},request:function(){toolbelt_is.page<=0||toolbelt_is.route&&(document.querySelector(".toolbelt-infinite-scroll-wrapper button").style.display="none",document.querySelector(".toolbelt-infinite-scroll-wrapper .toolbelt-spinner").style.display="block",toolbelt_is.page++,e())},page:-1}}();toolbelt_is.init();