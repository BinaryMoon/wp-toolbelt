"use strict";var toolbelt_is=function(){function e(){var o=new XMLHttpRequest,e=toolbelt_is.route+toolbelt_is.page;o.open("GET",e,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),o.onreadystatechange=function(){var e,t;4===o.readyState&&(t=JSON.parse(o.response),(e=document.querySelectorAll(".toolbelt-infinite-scroll-wrapper")[0])&&t.html&&e.insertAdjacentHTML("beforebegin",t.html),t.html&&!t.last||document.body.classList.add("toolbelt-infinite-scroll-end"),document.querySelector(".toolbelt-infinite-scroll-wrapper button").style.display="inline",document.querySelector(".toolbelt-infinite-scroll-wrapper .toolbelt-spinner").style.display="none",(t=document.querySelector(".toolbelt-divider:last-of-type + article"))&&(t.tabIndex=-1,t.focus()),window.history.pushState&&(t=toolbelt_is.permalink.replace("%d",toolbelt_is.page),window.location.href!==t&&(history.pushState(null,null,t),document.body.dispatchEvent(new Event("toolbelt-is-load")))),document.body.dispatchEvent(new Event("load-post")))},o.send()}return{init:function(){var e=document.querySelector(".toolbelt-infinite-scroll-wrapper button");e&&e.addEventListener("click",toolbelt_is.request,!1)},request:function(){toolbelt_is.page<=0||toolbelt_is.route&&(document.querySelector(".toolbelt-infinite-scroll-wrapper button").style.display="none",document.querySelector(".toolbelt-infinite-scroll-wrapper .toolbelt-spinner").style.display="block",toolbelt_is.page++,e())},page:-1}}();toolbelt_is.init();