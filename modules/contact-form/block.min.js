"use strict";!function(){function e(e){return v(A,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},v(T,{fill:"none",d:"M0 0h24v24H0V0z"}),e)}function l(e){var t=e.attributes,l=e.name;return null===t.label?s(l).title:t.label}function t(t){return function(e){return v(I,{type:t,label:l(e),required:e.attributes.required,description:e.attributes.description,setAttributes:e.setAttributes,isSelected:e.isSelected,defaultValue:e.attributes.defaultValue,placeholder:e.attributes.placeholder,id:e.attributes.id})}}function o(t){return function(e){return v(W,{label:l(e),required:e.attributes.required,options:e.attributes.options,description:e.attributes.description,setAttributes:e.setAttributes,type:t,isSelected:e.isSelected,id:e.attributes.id,layout:e.attributes.layout})}}var i=wp.i18n,g=i.__,a=i._x,n=wp.blockEditor,k=n.InspectorControls,b=n.InnerBlocks,r=(n.PlainText,wp.blocks),s=r.getBlockType,c=r.createBlock,u=r.registerBlockType,d=wp.element,y=d.Fragment,v=(d.Component,d.createElement),p=d.createRef,f=d.useEffect,x=d.useState,m=wp.compose,h=(m.compose,m.withInstanceId,wp.components),C=(h.BaseControl,h.Button),M=(h.Icon,h.PanelBody),S=h.RadioControl,w=h.Placeholder,q=(h.SelectControl,h.TextareaControl),B=h.TextControl,z=h.ToggleControl,T=h.Path,A=(h.Rect,h.SVG),N=h.Circle,V=["toolbelt/markdown","core/paragraph","core/heading","core/list","core/separator","core/spacer","core/subhead","core/quote","core/image"],j={default:[["toolbelt/field-name",{required:!0,label:g("Name","wp-toolbelt")}],["toolbelt/field-email",{required:!0,label:g("Email Address","wp-toolbelt")}],["toolbelt/field-textarea",{label:g("Message","wp-toolbelt")}]],feedback:[["toolbelt/field-radio",{label:g("Feedback Type","wp-toolbelt"),options:[g("Comment","wp-toolbelt"),g("Feedback","wp-toolbelt"),g("Question","wp-toolbelt")]}],["toolbelt/field-textarea",{label:g("Message","wp-toolbelt")}],["toolbelt/field-name",{required:!0,label:g("Name","wp-toolbelt")}],["toolbelt/field-email",{required:!0,label:g("Email Address","wp-toolbelt")}]],nps:[["toolbelt/field-radio",{label:g("How likely is it that you would recommend our company/product/service to a friend or colleague?","wp-toolbelt"),description:g("0 = least likely, 10 = most likely","wp-toolbelt"),options:[0,1,2,3,4,5,6,7,8,9,10],require:!0,layout:"horizontal"}],["toolbelt/field-textarea",{label:g("Why?","wp-toolbelt")}],["toolbelt/field-name",{required:!0,label:g("Name","wp-toolbelt")}],["toolbelt/field-email",{required:!0,label:g("Email Address","wp-toolbelt")}]]},O={title:g("TB Contact Form","wp-toolbelt"),description:g("Use the form builder to create your own forms.","wp-toolbelt"),icon:"email",category:"wp-toolbelt",keywords:[a("email contact","block search term","wp-toolbelt"),a("feedback","block search term","wp-toolbelt"),a("toolbelt","block search term","wp-toolbelt")],supports:{reusable:!1,html:!1},attributes:{subject:{type:"string",default:""},to:{type:"string",default:""},submitButtonText:{type:"string",default:g("Submit","wp-toolbelt")},messageConfirmation:{type:"string",default:""},layout:{type:"string",default:""}},save:function(){return v(b.Content,null)},edit:function(e){var t=e.attributes,l=e.setAttributes,o=t.subject,i=t.to,a=t.submitButtonText,n=t.messageConfirmation,r=t.layout,s=[v(B,{label:g("Email address","wp-toolbelt"),value:i,placeholder:g("name@example.com","wp-toolbelt"),help:g("You can enter multiple email addresses separated by commas.","wp-toolbelt"),onChange:function(e){return l({to:e})}}),v(B,{label:g("Email subject line","wp-toolbelt"),value:o,placeholder:g("Let's work together","wp-toolbelt"),onChange:function(e){return l({subject:e})}}),v("p",{className:"toolbelt-contact-description"},g("(If you leave these blank, notifications will go to the author with the post or page title as the subject line.)","wp-toolbelt"))],c=r;return j[r]||(c="default"),[v(k,null,v(M,{title:g("Email Feedback Settings","wp-toolbelt"),initialOpen:!0},s),v(M,{title:g("Messages","wp-toolbelt")},v(B,{label:g("Submit Button Text","wp-toolbelt"),value:a,onChange:function(e){return l({submitButtonText:e})}}),v(q,{label:g("Confirmation Message"),value:n,onChange:function(e){return l({messageConfirmation:e})}}))),v(y,null,v(w,{icon:"email",label:g("Contact Form","wp-toolbelt"),className:"toolbelt-contact-form-settings"},v("form",null,s)),v(b,{allowedBlocks:V,templateLock:!1,template:j[c]}),v("button",{disabled:!0},a))]},example:{attributes:{submitButtonText:g("Submit","wp-toolbelt")},innerBlocks:[{name:"toolbelt/field-name",attributes:{label:g("Name","wp-toolbelt"),required:!0}},{name:"toolbelt/field-email",attributes:{label:g("Email","wp-toolbelt"),required:!0}},{name:"toolbelt/field-textarea",attributes:{label:g("Message","wp-toolbelt")}}]}},H={label:{type:"string",default:null},required:{type:"boolean",default:!1},description:{type:"string",default:""},options:{type:"array",default:[]},defaultValue:{type:"string",default:""},placeholder:{type:"string",default:""}},L={to:[{type:"block",blocks:["toolbelt/field-checkbox-multiple"],isMatch:function(e){return 1<=e.options.length},transform:function(e){return c("toolbelt/field-checkbox-multiple",e)}},{type:"block",blocks:["toolbelt/field-radio"],isMatch:function(e){return 1<=e.options.length},transform:function(e){return c("toolbelt/field-radio",e)}},{type:"block",blocks:["toolbelt/field-select"],isMatch:function(e){return 1<=e.options.length},transform:function(e){return c("toolbelt/field-select",e)}}]},F={category:"wp-toolbelt",parent:["toolbelt/contact-form"],supports:{reusable:!1,html:!1},attributes:H,transforms:{to:[{type:"block",blocks:["toolbelt/field-text"],isMatch:function(e){return!e.options.length},transform:function(e){return c("toolbelt/field-text",e)}},{type:"block",blocks:["toolbelt/field-name"],isMatch:function(e){return!e.options.length},transform:function(e){return c("toolbelt/field-name",e)}},{type:"block",blocks:["toolbelt/field-email"],isMatch:function(e){return!e.options.length},transform:function(e){return c("toolbelt/field-email",e)}},{type:"block",blocks:["toolbelt/field-url"],isMatch:function(e){return!e.options.length},transform:function(e){return c("toolbelt/field-url",e)}},{type:"block",blocks:["toolbelt/field-date"],isMatch:function(e){return!e.options.length},transform:function(e){return c("toolbelt/field-date",e)}},{type:"block",blocks:["toolbelt/field-telephone"],isMatch:function(e){return!e.options.length},transform:function(e){return c("toolbelt/field-telephone",e)}},{type:"block",blocks:["toolbelt/field-textarea"],isMatch:function(e){return!e.options.length},transform:function(e){return c("toolbelt/field-textarea",e)}}]},save:function(){return null}},E=[{name:"field-text",settings:Object.assign({},F,{title:g("TB Text","wp-toolbelt"),description:g("When you need just a small amount of text, add a text input.","wp-toolbelt"),icon:e(v(T,{d:"M4 9h16v2H4V9zm0 4h10v2H4v-2z"})),edit:t("text")})},{name:"field-name",settings:Object.assign({},F,{title:g("TB Name","wp-toolbelt"),description:g("Introductions are important. Add an input for folks to add their name.","wp-toolbelt"),icon:e(v(T,{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})),edit:t("text")})},{name:"field-subject",settings:Object.assign({},F,{title:g("TB Subject","wp-toolbelt"),description:g("What is the message about?","wp-toolbelt"),icon:"email",edit:t("text")})},{name:"field-email",settings:Object.assign({},F,{title:g("TB Email","wp-toolbelt"),keywords:[g("e-mail","wp-toolbelt"),g("mail","wp-toolbelt"),"email"],description:g("Want to reply to folks? Add an email address input.","wp-toolbelt"),attributes:Object.assign({},H,{placeholder:{type:"string",default:"name@domain.com"}}),icon:e(v(T,{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"})),edit:t("email")})},{name:"field-url",settings:Object.assign({},F,{title:g("TB Website","wp-toolbelt"),keywords:["url",g("internet page","wp-toolbelt"),"link"],description:g("Add an address input for a website.","wp-toolbelt"),attributes:Object.assign({},H,{placeholder:{type:"string",default:"https://domain.com"}}),icon:e(v(T,{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"})),edit:t("url")})},{name:"field-date",settings:Object.assign({},F,{title:g("TB Date Picker","wp-toolbelt"),keywords:[g("Calendar","wp-toolbelt"),g("day month year","block search term","wp-toolbelt")],description:g("The best way to set a date. Add a date picker.","wp-toolbelt"),icon:e(v(T,{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V9h14v10zm0-12H5V5h14v2zM7 11h5v5H7z"})),edit:t("text")})},{name:"field-telephone",settings:Object.assign({},F,{title:g("TB Telephone","wp-toolbelt"),keywords:[g("Phone","wp-toolbelt"),g("Cellular phone","wp-toolbelt"),g("Mobile","wp-toolbelt")],description:g("Add a phone number input.","wp-toolbelt"),icon:e(v(T,{d:"M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"})),edit:t("tel")})},{name:"field-textarea",settings:Object.assign({},F,{title:g("TB Message","wp-toolbelt"),keywords:[g("Textarea","wp-toolbelt"),"textarea",g("Multiline text","wp-toolbelt")],description:g("Let folks speak their mind. This text box is great for longer responses.","wp-toolbelt"),icon:e(v(T,{d:"M21 11.01L3 11v2h18zM3 16h12v2H3zM21 6H3v2.01L21 8z"})),edit:function(e){return v(R,{label:l(e),required:e.attributes.required,setAttributes:e.setAttributes,isSelected:e.isSelected,defaultValue:e.attributes.defaultValue,placeholder:e.attributes.placeholder,id:e.attributes.id})}})},{name:"field-checkbox",settings:Object.assign({},F,{title:g("TB Checkbox","wp-toolbelt"),keywords:[g("Confirm","wp-toolbelt"),g("Accept","wp-toolbelt")],description:g("Add a single checkbox.","wp-toolbelt"),icon:e(v(T,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z"})),edit:function(e){return v(P,{label:e.attributes.label,required:e.attributes.required,description:e.attributes.description,setAttributes:e.setAttributes,isSelected:e.isSelected,defaultValue:e.attributes.defaultValue,id:e.attributes.id})},attributes:Object.assign({},F.attributes,{label:{type:"string",default:""}})})},{name:"field-checkbox-multiple",settings:Object.assign({},F,{title:g("TB Checkbox Group","wp-toolbelt"),keywords:[g("Choose Multiple","wp-toolbelt"),g("Option","wp-toolbelt")],description:g("People love options. Add several checkbox items.","wp-toolbelt"),icon:e(v(T,{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})),edit:o("checkbox"),transforms:L,attributes:Object.assign({},F.attributes,{layout:{type:"string",default:"vertical"},label:{type:"string",default:g("Select several","wp-toolbelt")}})})},{name:"field-radio",settings:Object.assign({},F,{title:g("TB Radio","wp-toolbelt"),keywords:[g("Choose","wp-toolbelt"),g("Select","wp-toolbelt"),g("Option","wp-toolbelt")],description:g("Inspired by radios, only one radio item can be selected at a time. Add several radio button items.","wp-toolbelt"),icon:e(v(y,null,v(T,{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),v(N,{cx:"12",cy:"12",r:"5"}))),edit:o("radio"),transforms:L,attributes:Object.assign({},F.attributes,{layout:{type:"string",default:"vertical"},label:{type:"string",default:g("Select one","wp-toolbelt")}})})},{name:"field-select",settings:Object.assign({},F,{title:g("TB Select","wp-toolbelt"),keywords:[g("Choose","wp-toolbelt"),g("Dropdown","wp-toolbelt"),g("Option","wp-toolbelt")],description:g("Compact, but powerful. Add a select box with several items.","wp-toolbelt"),icon:e(v(T,{d:"M3 17h18v2H3zm16-5v1H5v-1h14m2-2H3v5h18v-5zM3 6h18v2H3z"})),edit:o("select"),transforms:L,attributes:Object.assign({},F.attributes,{label:{type:"string",default:g("Select one","wp-toolbelt")}})})}];function P(e){var t=e.label,l=e.setAttributes,o=e.defaultValue,i=e.isSelected,a=e.description,n=e.required;return v(y,null,v("div",{className:"toolbelt-field-checkbox"},v("input",{className:"toolbelt-field-checkbox__checkbox",type:"checkbox",disabled:!0,checked:o}),i&&v(y,null,v("input",{type:"text",className:"toolbelt-field-label-text",value:t,onChange:function(e){return l({label:e.target.value})}}),v(q,{label:g("Description","wp-toolbelt"),value:a,className:"toolbelt-field-label-description",onChange:function(e){l({description:e})}}),v(z,{label:g("Required","wp-toolbelt"),className:"toolbelt-field-label-required",checked:n,onChange:function(e){return l({required:e})}})),!i&&v(y,null,v("label",{className:"toolbelt-field-label-text"},t),a&&v("p",{className:"toolbelt-field-label-description"},a))),v(k,null,v(M,{title:g("Field Settings","wp-toolbelt")},v(B,{label:g("Label","wp-toolbelt"),value:t,onChange:function(e){return l({label:e})}}),v(z,{label:g("Default Checked State","wp-toolbelt"),checked:o,onChange:function(e){return l({defaultValue:e})}}))))}function I(e){var t=e.type,l=e.required,o=e.description,i=e.label,a=e.setAttributes,n=e.defaultValue,r=e.placeholder,s=e.isSelected;return v(y,null,v("div",{className:"toolbelt-field"},v(D,{required:l,label:i,description:o,setAttributes:a,isSelected:s}),v(B,{type:t,placeholder:r,value:n,onChange:function(e){return a({defaultValue:e})}})),v(k,null,v(M,{title:g("Field Settings","wp-toolbelt")},v(B,{label:g("Label","wp-toolbelt"),value:i,onChange:function(e){return a({label:e})}}),v(B,{label:g("Default Value","wp-toolbelt"),value:n,onChange:function(e){return a({defaultValue:e})}}),v(B,{label:g("Placeholder","wp-toolbelt"),value:r,onChange:function(e){return a({placeholder:e})}}))))}function D(e){var t=e.setAttributes,l=e.label,o=e.required,i=e.isSelected,a=e.description,n=p();return v("div",{className:"toolbelt-field-label"},i&&v("input",{type:"text",value:l,className:"toolbelt-field-label-text",onChange:function(e){t({label:e.target.value})},placeholder:g("Write label…","wp-toolbelt"),ref:n}),!i&&v("label",{className:"toolbelt-field-label-text"},l," "),i&&v(y,null,v(z,{label:g("Required","wp-toolbelt"),className:"toolbelt-field-label-required",checked:o,onChange:function(e){return t({required:e})}}),v(q,{label:g("Description","wp-toolbelt"),value:a,className:"toolbelt-field-label-description",onChange:function(e){t({description:e})}})),!i&&!o&&v("em",null,"(",g("Optional","wp-toolbelt"),")"),!i&&a&&v("p",{className:"toolbelt-field-label-description"},a))}function R(e){var t=e.required,l=e.label,o=e.setAttributes,i=e.description,a=e.isSelected;return v(y,null,v("div",{className:"toolbelt-field"},v(D,{required:t,label:l,description:i,setAttributes:o,isSelected:a}),v(q,{disabled:!0})),v(k,null,v(M,{title:g("Field Settings","wp-toolbelt")},v(B,{label:g("Label","wp-toolbelt"),value:l,onChange:function(e){return o({label:e})}}))))}function W(e){var t=e.instanceId,l=e.required,o=e.description,i=e.label,a=e.isSelected,n=e.setAttributes,r=e.options,s=e.layout,c=e.type,b=x(-1),u=b[0],d=b[1];r.length||(r=[""]);function p(){var e=r.slice(0);e.push(""),n({options:e}),d(r.length)}function f(e,t){if(e||0===e){var l=r.slice(0);l[e]=t,n({options:l}),d(e)}}function m(e){var t=r.slice(0),l=t.slice(0,e).concat(t.slice(e+1,t.length));n({options:l}),0<e&&d(e-1)}function h(e,t){return"Enter"===e.key?(p(),void e.preventDefault()):"Backspace"===e.key&&""===e.target.value?(m(t),void e.preventDefault()):void 0}var w=s;return s||(w="vertical"),v(y,null,v(D,{required:l,label:i,description:o,setAttributes:n,isSelected:a}),v("ol",{className:"toolbelt-field-multiple toolbelt-field-multiple-".concat(c," toolbelt-field-multiple-layout-").concat(w),id:"toolbelt-field-multiple-".concat(t)},r.map(function(e,t){return v(_,{type:c,key:t,index:t,option:e,isSelected:a,inFocus:u,updateOption:f,deleteOption:m,keyPress:h})})),a&&v(C,{className:"toolbelt-field-multiple__add-option",icon:"insert",label:g("Insert option","wp-toolbelt"),onClick:p},g("Add option","wp-toolbelt")),v(k,null,v(M,{title:g("Field Settings","wp-toolbelt")},v(B,{label:g("Label","wp-toolbelt"),value:i,onChange:function(e){return n({label:e})}}),("radio"===c||"checkbox"===c)&&v(S,{label:g("Layout","wp-toolbelt"),options:[{label:g("Vertical","wp-toolbelt"),value:"vertical"},{label:g("Horizontal","wp-toolbelt"),value:"horizontal"}],onChange:function(e){n({layout:e})},selected:w}))))}function _(e){var t=e.isSelected,l=e.option,o=e.type,i=e.updateOption,a=e.deleteOption,n=e.keyPress,r=e.index,s=e.inFocus,c=p();return f(function(){c&&c.current&&r===s&&c.current.focus()}),v("li",{className:"toolbelt-option"},o&&"select"!==o&&v("input",{className:"toolbelt-option-type",type:o,disabled:!0}),t&&v(y,null,v("input",{type:"text",className:"toolbelt-option-input",value:l,placeholder:g("Write option…","toolbelt"),ref:c,onChange:function(e){i(r,e.target.value)},onKeyDown:function(e){n(e,r)}}),v(C,{className:"toolbelt-option-remove",icon:"trash",label:g("Remove option","jetpack"),onClick:function(){a(r)}})),!t&&v("label",{className:"toolbelt-field-label-text"},l," "))}u("toolbelt/contact-form",O),wp.blocks.registerBlockVariation("toolbelt/contact-form",{name:"feedback",title:g("TB Feedback Form","wp-toolbelt"),attributes:{layout:"feedback"}}),wp.blocks.registerBlockVariation("toolbelt/contact-form",{name:"nps",title:g("TB Net Promoter Score (NPS) Form","wp-toolbelt"),attributes:{layout:"nps"}}),E.forEach(function(e){return u("toolbelt/".concat(e.name),e.settings)})}();